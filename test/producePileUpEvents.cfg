process PileUp = {

    untracked PSet maxEvents = {untracked int32 input = 10000}

    include "GeneratorInterface/Pythia6Interface/data/PythiaSourceMinBias.cfi"
  # Valid pythiaPylistVerbosity levels are: 0 (none), 1, 2, 3, 5, 7, 11, 12, 13
    replace PythiaSource.pythiaPylistVerbosity = 0 
    replace PythiaSource.maxEventsToPrint = 2
    replace PythiaSource.pythiaHepMCVerbosity = false 
    replace PythiaSource.PythiaParameters.myParameters = { 
	'PARJ(71) = -1.'
    }


    service = RandomNumberGeneratorService {
  # this sets the random number seed used by Pythia
        untracked uint32 sourceSeed = 123456
    }

  # The particle data table
    include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"   
    es_prefer = PythiaPDTESSource {}
	
  # service = SimpleProfiling { }

    module prodPU = producePileUpEvents {

        PSet PUParticleFilter = {
                # Particles with |eta| > etaMax (momentum direction at primary vertex) 
                # are not simulated 
                double etaMax = 6.0
                # Charged particles with pT < pTMin (GeV/c) are not simulated
                double pTMin =  0.
                # Particles with energy smaller than EMin (GeV) are not simulated
                double EMin = 0.
        }

        bool SavePileUpEvents = true
	uint32 BunchPileUpEventSize = 1000
        untracked string PUEventFile = "MinBiasEvents_003.root"

   }

  # path to run everything
  path p = { prodPU }

}
